var y=Object.defineProperty;var u=(r,t,e)=>t in r?y(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var o=(r,t,e)=>(u(r,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();class x{constructor(t){o(this,"width");o(this,"height");o(this,"x");o(this,"y");o(this,"color","white");this.width=t==null?10:t.width,this.height=t==null?10:t.height,this.x=t==null?0:t.x,this.y=t==null?0:t.y}create(t){t.fillStyle="white",t.fillRect(this.x,this.y,this.width,this.height)}update(t,e,s){e!=null?this.x=e:s!=null&&(this.y=s),t.fillRect(this.x,this.y,this.width,this.height)}}class v{constructor(t){o(this,"width");o(this,"height");o(this,"x");o(this,"y");o(this,"src");this.width=t==null?10:t.width,this.height=t==null?10:t.height,this.x=t==null?0:t.x,this.y=t==null?0:t.y,this.src=t==null?"./assets/soccer-left.png":t.src}create(t){const e=new Image;e.src=this.src,e.onload=()=>{t.drawImage(e,this.x,this.y,this.width,this.height)}}update(t,e,s){e!==null?this.x=e:s!==null&&(this.y=s);const i=new Image;i.src=this.src,t.drawImage(i,this.x,this.y,this.width,this.height)}moveLeft(t){const e=new Image;e.src=this.src,this.x-=8,t.drawImage(e,this.x,this.y,this.width,this.height)}moveRigth(t){const e=new Image;e.src=this.src,this.x+=8,t.drawImage(e,this.x,this.y,this.width,this.height)}jump(t){const e=new Image;e.src=this.src,this.y-=30,t.drawImage(e,this.x,this.y,this.width,this.height)}}class p{constructor(t,e,s,i){o(this,"height");o(this,"width");o(this,"myClassName");o(this,"targetClassName");this.height=t,this.width=e,this.myClassName=s,this.targetClassName=i}create(){var e;const t=document.createElement("canvas");return t.classList.add(`.${this.myClassName}`),t.style.height=this.height,t.style.width=this.width,(e=document.querySelector(`.${this.targetClassName}`))==null||e.appendChild(t),t}}const w={height:3,width:60,x:40,y:110},a={height:600,width:380},I={height:18,width:60,x:40,y:125,src:"./assets/soccer-left.png"},c=new v(I),g=[],b=r=>r<10?.2:r<20?.4:r<40?.7:.8;for(let r=0;r<6;r++)r>0&&(w.y-=30),g.push(new x(w));let d=0;const C=new p(`${a.height}px`,`${a.width}px`,"canvas","app"),L=C.create(),h=L.getContext("2d");let m=0;const l=new Image;l.src="./assets/soccer-bck.png";if(h!=null){const r=()=>{let s=!1;h.clearRect(0,0,a.width,a.height),h.drawImage(l,0,0,a.width,a.height),g.forEach(i=>{i.create(h),c.y>=i.y-c.height&&c.y<=i.y+2&&c.x+c.width-5>=i.x&&c.x<=i.x+i.width-5&&(s=!0)}),s?c.update(h,null,null):(c.y==180&&(window.alert(`Game Over!!! score:${d}`),window.location.reload()),c.update(h,null,c.y+1)),h.font="14px serif",h.fillStyle="white",h.fillText(d.toString(),24,15,30)},t=()=>{h.clearRect(0,0,a.width,a.height),h.drawImage(l,0,0,a.width,a.height),g.forEach(s=>{s.y>=160&&s.y<=180?(d++,console.log("touch down"),s.y=0,s.x=40+Math.floor(Math.random()*120)):s.update(h,null,s.y+b(d))})},e=()=>{m==1&&(t(),r()),requestAnimationFrame(e)};l.onload=()=>{h.drawImage(l,0,0,a.width,a.height),g.forEach((s,i)=>{if(i==2)s.x=140,c.x=s.x,c.y=s.y-25;else{const n=20+Math.floor(Math.random()*120);s.x=n}s.create(h)}),h.fillStyle="black",h.fillRect(0,0,a.width,a.height),h.fillStyle="white",h.font="15px serif",h.fillText("Press Enter to start",a.width/2-100,85,150),e()}}window.addEventListener("keydown",r=>{switch(r.key){case"ArrowLeft":c.moveLeft(h);break;case"ArrowRight":c.moveRigth(h);break;case"ArrowUp":c.jump(h);break;case"Enter":m=1;break}});
