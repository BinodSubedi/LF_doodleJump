var f=Object.defineProperty;var y=(h,t,i)=>t in h?f(h,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[t]=i;var a=(h,t,i)=>(y(h,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const w of c.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&s(w)}).observe(document,{childList:!0,subtree:!0});function i(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(e){if(e.ep)return;e.ep=!0;const c=i(e);fetch(e.href,c)}})();class u{constructor(t){a(this,"width");a(this,"height");a(this,"x");a(this,"y");a(this,"color","white");this.width=t==null?10:t.width,this.height=t==null?10:t.height,this.x=t==null?0:t.x,this.y=t==null?0:t.y}create(t){t.fillStyle="white",t.fillRect(this.x,this.y,this.width,this.height)}update(t,i,s){i!==null?this.x=i:s!==null&&(this.y=s),t.fillRect(this.x,this.y,this.width,this.height)}}class x{constructor(t){a(this,"width");a(this,"height");a(this,"x");a(this,"y");a(this,"src");this.width=t==null?10:t.width,this.height=t==null?10:t.height,this.x=t==null?0:t.x,this.y=t==null?0:t.y,this.src=t==null?"./assets/soccer-left.png":t.src}create(t){const i=new Image;i.src=this.src,i.onload=()=>{t.drawImage(i,this.x,this.y,this.width,this.height)}}update(t,i,s){i!==null?this.x=i:s!==null&&(this.y=s);const e=new Image;e.src=this.src,t.drawImage(e,this.x,this.y,this.width,this.height)}moveLeft(t){const i=new Image;i.src=this.src,this.x-=8,t.drawImage(i,this.x,this.y,this.width,this.height)}moveRigth(t){const i=new Image;i.src=this.src,this.x+=8,t.drawImage(i,this.x,this.y,this.width,this.height)}jump(t){const i=new Image;i.src=this.src,this.y-=60,t.drawImage(i,this.x,this.y,this.width,this.height)}}class v{constructor(t,i,s,e){a(this,"height");a(this,"width");a(this,"myClassName");a(this,"targetClassName");this.height=t,this.width=i,this.myClassName=s,this.targetClassName=e}create(){var i;const t=document.createElement("canvas");return t.classList.add(`.${this.myClassName}`),t.style.height=this.height,t.style.width=this.width,(i=document.querySelector(`.${this.targetClassName}`))==null||i.appendChild(t),t}}const m={height:3,width:60,x:40,y:110},n={height:600,width:380},p={height:18,width:60,x:40,y:125,src:"./assets/soccer-left.png"},r=new x(p),g=[],I=h=>h<10?.2:h<20?.4:h<40?.7:.8;for(let h=0;h<6;h++)h>0&&(m.y-=30),g.push(new u(m));let l=0;const b=new v(`${n.height}px`,`${n.width}px`,"canvas","app"),C=b.create(),o=C.getContext("2d"),d=new Image;d.src="./assets/soccer-bck.png";if(o!=null){const h=()=>{let s=!1;o.clearRect(0,0,n.width,n.height),o.drawImage(d,0,0,n.width,n.height),g.forEach(e=>{e.create(o),r.y-r.height-(e.y-e.height)>=-2&&r.y-r.height-(e.y-e.height)<=0&&e.x+e.width>=r.x&&e.x-e.width+2<=r.x&&(console.log("main-checker::",r.y-r.height-(e.y-e.height)),console.log("el.y, doodler.y, el.height, doodler.height",e.y,r.y,e.height,r.height),s=!0)}),s?r.update(o,null,null):(r.y==180&&(window.alert(`Game Over!!! score:${l}`),window.location.reload()),r.update(o,null,r.y+1)),o.font="14px serif",o.fillStyle="white",o.fillText(l.toString(),24,15,30)},t=()=>{o.clearRect(0,0,n.width,n.height),o.drawImage(d,0,0,n.width,n.height),g.forEach(s=>{s.y>180?(l++,s.update(o,null,0)):(s.update(o,null,s.y+I(l)),console.log(s.y))})},i=()=>{t(),h(),requestAnimationFrame(i)};d.onload=()=>{o.drawImage(d,0,0,n.width,n.height),g.forEach((s,e)=>{if(e==2)s.x=140,r.x=s.x,r.y=s.y-25;else{const c=20+Math.floor(Math.random()*120);s.x=c}s.create(o)}),i()}}window.addEventListener("keydown",h=>{switch(h.key){case"ArrowLeft":r.moveLeft(o);break;case"ArrowRight":r.moveRigth(o);break;case"ArrowUp":r.jump(o);break}});
